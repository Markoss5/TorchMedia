@model TorchMedia.Models.AdminViewModel


@{
    ViewBag.Title = "Administración";
}

<h2 class="adminLogin">Editar Contenidos</h2>

<!-- Formulario para editar la sección Hero -->
<h3>Sección Hero</h3>
<form asp-action="ActualizarHeroContent" method="post">
    <input type="hidden" name="HeroContentID" value="@Model.HeroContent.HeroContentID" />
    <label>Título:</label>
    <input type="text" name="Titulo" value="@Model.HeroContent.Titulo" />
    <label>Descripción:</label>
    <textarea name="Descripcion">@Model.HeroContent.Descripcion</textarea>
    <label>Video URL:</label>
    <input type="text" name="VideoUrl" value="@Model.HeroContent.VideoUrl" />
    <button type="submit">Guardar</button>
</form>


<!-- Formulario para editar la sección Quiénes Somos -->
<h3>Sección Quiénes Somos</h3>
<form asp-action="ActualizarQuienesSomosContent" method="post">
    <!-- Campo oculto para el ID de la sección -->
    <input type="hidden" name="QuienesSomosID" value="@Model.QuienesSomosContent.QuienesSomosID" />
    
    <!-- Campo para el título -->
    <label>Título:</label>
    <input type="text" name="Titulo" value="@Model.QuienesSomosContent.Titulo" />
    
    <!-- Campo para la descripción -->
    <label>Descripción:</label>
    <textarea name="Descripcion">@Model.QuienesSomosContent.Descripcion</textarea>
    
    <!-- Campo para la URL de la imagen -->
    <label>Imagen URL:</label>
    <input type="text" name="ImagenUrl" value="@Model.QuienesSomosContent.ImagenUrl" />
    
    <!-- Botón para guardar cambios -->
    <button type="submit">Guardar</button>
</form>


<!-- Formulario para editar la sección Servicios -->
<h3>Sección Servicios</h3>
@foreach (var servicio in Model.ServiciosContent)
{
    <form asp-action="ActualizarServiciosContent" method="post">
        <label>Título:</label>
        <input type="text" name="Titulo" value="@servicio.Titulo" />
        <label>Descripción:</label>
        <textarea name="Descripcion">@servicio.Descripcion</textarea>
        <label>Icono URL:</label>
        <input type="text" name="IconoUrl" value="@servicio.IconoUrl" />
        <input type="hidden" name="ServicioID" value="@servicio.ServicioID" />
        <button type="submit">Guardar</button>
    </form>
}

<!-- Formulario para editar la sección Testimonios -->
<h3>Sección Testimonios</h3>
<form asp-action="ActualizarTestimoniosContent" method="post">
    <label>Video URL:</label>
    <input type="text" name="VideoUrl" value="@Model.TestimoniosContent.VideoUrl" />
    <label>Imagen URL:</label>
    <input type="text" name="ImagenUrl" value="@Model.TestimoniosContent.ImagenUrl" />
    <button type="submit">Guardar</button>
</form>

<!-- Formulario para editar el Pie de Página -->
<h3>Pie de Página</h3>
<form asp-action="ActualizarFooterContent" method="post">
    <label>Texto:</label>
    <input type="text" name="Texto" value="@Model.FooterContent.Texto" />
    <label>Correo:</label>
    <input type="text" name="Correo" value="@Model.FooterContent.Correo" />
    <label>Instagram URL:</label>
    <input type="text" name="InstagramUrl" value="@Model.FooterContent.InstagramUrl" />
    <button type="submit">Guardar</button>
</form>

<h3>Establecer Disponibilidad de Turnos</h3>
<form asp-action="EstablecerDisponibilidad" method="post">
    <label>Fecha:</label>
    <input type="date" name="Fecha" required />
    
    <label>Hora de inicio:</label>
    <input type="time" name="HoraInicio" required />
    
    <label>Hora de fin:</label>
    <input type="time" name="HoraFin" required />
    
    <button type="submit">Establecer Disponibilidad</button>
</form>

<h2>Gestión de Disponibilidad</h2>

<!-- Mostrar la disponibilidad actual -->
<table>
    <thead>
        <tr>
            <th>Fecha</th>
            <th>Hora Inicio</th>
            <th>Hora Fin</th>
            <th>Disponible</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var disponibilidad in Model.Disponibilidad)
        {
            <tr>
                <td>@disponibilidad.Fecha.ToShortDateString()</td>
                <td>@disponibilidad.HoraInicio</td>
                <td>@disponibilidad.HoraFin</td>
                <td>@(disponibilidad.Disponible ? "Sí" : "No")</td>
            </tr>
        }
    </tbody>
</table>

<!-- Formulario para establecer nueva disponibilidad -->
<h3>Establecer Nueva Disponibilidad</h3>
<form asp-action="EstablecerDisponibilidad" method="post">
    <label>Fecha:</label>
    <input type="date" name="Fecha" required />
    <br/>
    <label>Hora Inicio:</label>
    <input type="time" name="HoraInicio" required />
    <br/>
    <label>Hora Fin:</label>
    <input type="time" name="HoraFin" required />
    <br/>
    <button type="submit">Establecer Disponibilidad</button>
</form>

<form asp-controller="Account" asp-action="Logout" method="post">
    <button type="submit">Cerrar Sesión</button>
</form>

